<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_script_include">
    <sys_script_include action="INSERT_OR_UPDATE">
        <access>package_private</access>
        <active>true</active>
        <api_name>x_13258_peer_rev_0.Feedback</api_name>
        <caller_access/>
        <client_callable>false</client_callable>
        <description/>
        <name>Feedback</name>
        <script><![CDATA[var Feedback = Class.create();
Feedback.prototype = Object.extendsObject(Base, {
    initialize: function() {},

    assignFeedback: assignFeedback,
    type: 'Feedback'
});

function assignFeedback(receiverID, submitterID) {
    if (!receiverID || !submitterID) {
        return;
    }

    var feedbackTable = this.CONSTANTS.tables.feedback;
    var stateAssigned = 'assigned';
    var queryObject = {
        "receiver": receiverID,
        "submitter": submitterID,
        "state": stateAssigned
    };
    var totalAssigned = this.getAggregate(feedbackTable, queryObject, "COUNT");

    if (totalAssigned == 0) {
        return this.insertRecord(feedbackTable, queryObject);
    }
}]]></script>
        <sys_class_name>sys_script_include</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2023-05-17 09:47:06</sys_created_on>
        <sys_id>f1ce462e07b221102b80fe4f7c1ed086</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>Feedback</sys_name>
        <sys_package display_value="Peer Review" source="x_13258_peer_rev_0">b037a9e6073221102b80fe4f7c1ed028</sys_package>
        <sys_policy>read</sys_policy>
        <sys_scope display_value="Peer Review">b037a9e6073221102b80fe4f7c1ed028</sys_scope>
        <sys_update_name>sys_script_include_f1ce462e07b221102b80fe4f7c1ed086</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2023-05-17 09:47:06</sys_updated_on>
    </sys_script_include>
</record_update>
